/* Import centralized design tokens FIRST (before Tailwind) */
@import "../../design-system/tokens.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   Desktop App Font Stack (Geist not available in Tauri)
   ============================================================================ */

:root {
  /* Override font-sans for desktop app - use system fonts */
  --font-sans-desktop: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
    Roboto, 'Helvetica Neue', Arial, sans-serif;
  --font-mono-desktop: ui-monospace, SFMono-Regular, 'SF Mono', Menlo,
    Consolas, 'Liberation Mono', monospace;
}

/* ============================================================================
   shadcn/ui CSS Variables - Aligned with Design Tokens
   ============================================================================ */

@layer base {
  :root {
    /* shadcn base colors mapped to design tokens */
    --background: var(--color-background);
    --foreground: var(--color-foreground);

    --card: var(--color-surface);
    --card-foreground: var(--color-foreground);

    --popover: var(--color-surface);
    --popover-foreground: var(--color-foreground);

    --primary: var(--color-primary-600);
    --primary-foreground: #ffffff;

    --secondary: var(--color-neutral-100);
    --secondary-foreground: var(--color-neutral-900);

    --muted: var(--color-neutral-100);
    --muted-foreground: var(--color-neutral-500);

    --accent: var(--color-neutral-100);
    --accent-foreground: var(--color-neutral-900);

    --destructive: var(--color-error-500);
    --destructive-foreground: #ffffff;

    --border: var(--color-border);
    --input: var(--color-border);
    --ring: var(--color-primary-500);

    --radius: var(--radius-lg);

    /* Chart colors for analytics */
    --chart-1: var(--color-primary-500);
    --chart-2: var(--color-secondary-500);
    --chart-3: var(--color-success-500);
    --chart-4: var(--color-alpha-500);
    --chart-5: var(--color-error-500);
  }

  .dark {
    --background: var(--color-background);
    --foreground: var(--color-foreground);

    --card: var(--color-surface);
    --card-foreground: var(--color-foreground);

    --popover: var(--color-surface);
    --popover-foreground: var(--color-foreground);

    --primary: var(--color-primary-500);
    --primary-foreground: #ffffff;

    --secondary: var(--color-neutral-800);
    --secondary-foreground: var(--color-neutral-50);

    --muted: var(--color-neutral-800);
    --muted-foreground: var(--color-neutral-400);

    --accent: var(--color-neutral-800);
    --accent-foreground: var(--color-neutral-50);

    --destructive: var(--color-error-600);
    --destructive-foreground: #ffffff;

    --border: var(--color-border);
    --input: var(--color-border);
    --ring: var(--color-primary-400);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    /* Use desktop-specific font stack (no Geist in Tauri) */
    font-family: var(--font-sans-desktop);
  }
}

/* ============================================================================
   Custom Animations
   ============================================================================ */

@keyframes slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in {
  animation: slide-in var(--duration-300) var(--ease-out);
}

/* ============================================================================
   Dark Mode Support
   ============================================================================ */

@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

/* ============================================================================
   Smooth Transitions
   ============================================================================
   Note: CSS custom properties cannot be used for transition-property lists.
   Using explicit property list instead of var(--transition-colors).
   ============================================================================ */

* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-duration: var(--duration-200);
  transition-timing-function: var(--ease-in-out);
}

/* ============================================================================
   Focus States (using design tokens)
   ============================================================================ */

*:focus-visible {
  outline: var(--focus-ring-width) var(--focus-ring-style) var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

/* ============================================================================
   Scrollbar Styling - WebKit browsers (Chrome, Safari, Edge)
   ============================================================================ */

::-webkit-scrollbar {
  width: var(--scrollbar-width);
}

::-webkit-scrollbar-track {
  background: var(--scrollbar-track-bg);
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: var(--scrollbar-thumb-radius);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover-bg);
}

/* ============================================================================
   Scrollbar Styling - Firefox
   ============================================================================ */

* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb-bg) var(--scrollbar-track-bg);
}
